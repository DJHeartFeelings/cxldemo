<?xml version="1.0" encoding="UTF-8"?>
<process-definition name="AssetPurchaseFlow">
	<action name="process_cfg"
		class="com.newsoft.workflow.jbpm.handler.ProcessConfigureHandler"
		config-type="field">
		<tableID>18</tableID>
		<flowDes>资产申购</flowDes>
		<createUser></createUser>
		<createTime></createTime>
		<readers></readers>
	</action>
	<start-state name="开始">
		<description>Type=start-state;ID=1</description>
		<transition name="采购计划申请" to="采购计划申请">
			<description>Type=CommonLine;Index=0;ID=26</description>
		</transition>
	</start-state>
	<end-state name="结束">
		<event type="node-enter">
			<action config-type="bean"
				class="org.springmodules.workflow.jbpm31.JbpmHandlerProxy">
				<targetBean>EndNodeEnterEventHandler</targetBean>
				<factoryKey>jbpmConfiguration</factoryKey>
			</action>
		</event>
		<description>Type=end-state;ID=2</description>
	</end-state>
	<action name="采购计划申请_cfg"
		class="com.newsoft.workflow.jbpm.handler.NodeConfigureHandler"
		config-type="field">
		<taskName>采购计划申请</taskName>
		<processActor>VAR_Creator</processActor>
		<multiActor>0</multiActor>
		<editFields>
			title,price,anno,department,unit,useDepartment,quantity,cause,creator,model
		</editFields>
		<hideFields></hideFields>
		<smsContext></smsContext>
		<sugIndex>0</sugIndex>
		<taskNodeReader></taskNodeReader>
	</action>
	<task-node create-tasks="false" end-tasks="true" name="采购计划申请">
		<task name="采购计划申请"></task>
		<event type="node-enter">
			<action config-type="bean"
				class="org.springmodules.workflow.jbpm31.JbpmHandlerProxy">
				<targetBean>NodeEnterEventHandler</targetBean>
				<factoryKey>jbpmConfiguration</factoryKey>
			</action>
		</event>
		<description>Type=task-node;ID=12</description>
		<transition name="申请审批" to="部门领导审批">
			<description>Type=CommonLine;Index=0;ID=28</description>
		</transition>
	</task-node>
	<action name="部门领导审批_cfg"
		class="com.newsoft.workflow.jbpm.handler.NodeConfigureHandler"
		config-type="field">
		<taskName>请审批资产申购：@ATTR_title@</taskName>
		<processActor>VAR_CommitorDept|ROLE_MANAGER</processActor>
		<multiActor>0</multiActor>
		<editFields>curSuggestion</editFields>
		<hideFields></hideFields>
		<smsContext></smsContext>
		<sugIndex>0</sugIndex>
		<taskNodeReader></taskNodeReader>
	</action>
	<task-node create-tasks="false" end-tasks="true" name="部门领导审批">
		<task name="部门领导审批"></task>
		<event type="node-enter">
			<action config-type="bean"
				class="org.springmodules.workflow.jbpm31.JbpmHandlerProxy">
				<targetBean>NodeEnterEventHandler</targetBean>
				<factoryKey>jbpmConfiguration</factoryKey>
			</action>
		</event>
		<description>Type=task-node;ID=27</description>
		<transition name="同意" to="分管领导审批">
			<description>Type=CommonLine;Index=1;ID=30</description>
		</transition>
		<transition name="相关部门会签" to="相关部门会签">
			<description>Type=CommonLine;Index=0;ID=33</description>
		</transition>
		<transition name="否决" to="否决">
			<description>Type=CommonLine;Index=10;ID=40</description>
		</transition>
	</task-node>
	<action name="分管领导审批_cfg"
		class="com.newsoft.workflow.jbpm.handler.NodeConfigureHandler"
		config-type="field">
		<taskName>请审批资产申购：@ATTR_title@</taskName>
		<processActor>ROLE_MANAGER</processActor>
		<multiActor>0</multiActor>
		<editFields>curSuggestion</editFields>
		<hideFields></hideFields>
		<smsContext></smsContext>
		<sugIndex>0</sugIndex>
		<taskNodeReader></taskNodeReader>
	</action>
	<task-node create-tasks="false" end-tasks="true" name="分管领导审批">
		<task name="分管领导审批"></task>
		<event type="node-enter">
			<action config-type="bean"
				class="org.springmodules.workflow.jbpm31.JbpmHandlerProxy">
				<targetBean>NodeEnterEventHandler</targetBean>
				<factoryKey>jbpmConfiguration</factoryKey>
			</action>
		</event>
		<description>Type=task-node;ID=29</description>
		<transition name="同意" to="主管领导审批">
			<description>Type=CommonLine;Index=0;ID=36</description>
		</transition>
		<transition name="否决" to="否决">
			<description>Type=CommonLine;Index=10;ID=41</description>
		</transition>
	</task-node>
	<action name="相关部门会签_cfg"
		class="com.newsoft.workflow.jbpm.handler.NodeConfigureHandler"
		config-type="field">
		<taskName>请审批资产申购：@ATTR_title@</taskName>
		<processActor>ROLE_MANAGER</processActor>
		<multiActor>1</multiActor>
		<editFields>curSuggestion</editFields>
		<hideFields></hideFields>
		<smsContext></smsContext>
		<sugIndex>0</sugIndex>
		<taskNodeReader></taskNodeReader>
	</action>
	<task-node create-tasks="false" end-tasks="true" name="相关部门会签">
		<task name="相关部门会签"></task>
		<event type="node-enter">
			<action config-type="bean"
				class="org.springmodules.workflow.jbpm31.JbpmHandlerProxy">
				<targetBean>NodeEnterEventHandler</targetBean>
				<factoryKey>jbpmConfiguration</factoryKey>
			</action>
		</event>
		<description>Type=task-node;ID=31</description>
		<transition name="同意" to="分管领导审批">
			<description>Type=CommonLine;Index=0;ID=34</description>
		</transition>
	</task-node>
	<action name="主管领导审批_cfg"
		class="com.newsoft.workflow.jbpm.handler.NodeConfigureHandler"
		config-type="field">
		<taskName>请审批资产申购：@ATTR_title@</taskName>
		<processActor>ROLE_AdministrativeOfficeLeader</processActor>
		<multiActor>0</multiActor>
		<editFields>curSuggestion</editFields>
		<hideFields></hideFields>
		<smsContext></smsContext>
		<sugIndex>0</sugIndex>
		<taskNodeReader></taskNodeReader>
	</action>
	<task-node create-tasks="false" end-tasks="true" name="主管领导审批">
		<task name="主管领导审批"></task>
		<event type="node-enter">
			<action config-type="bean"
				class="org.springmodules.workflow.jbpm31.JbpmHandlerProxy">
				<targetBean>NodeEnterEventHandler</targetBean>
				<factoryKey>jbpmConfiguration</factoryKey>
			</action>
		</event>
		<description>Type=task-node;ID=35</description>
		<transition name="同意" to="经办部门办理">
			<description>Type=CommonLine;Index=0;ID=38</description>
		</transition>
		<transition name="否决" to="否决">
			<description>Type=CommonLine;Index=10;ID=42</description>
		</transition>
	</task-node>
	<action name="经办部门办理_cfg"
		class="com.newsoft.workflow.jbpm.handler.NodeConfigureHandler"
		config-type="field">
		<taskName>资产申购已批准：@ATTR_title@</taskName>
		<processActor>ROLE_MANAGER</processActor>
		<multiActor>0</multiActor>
		<editFields>curSuggestion</editFields>
		<hideFields></hideFields>
		<smsContext></smsContext>
		<sugIndex>0</sugIndex>
		<taskNodeReader></taskNodeReader>
	</action>
	<task-node create-tasks="false" end-tasks="true" name="经办部门办理">
		<task name="经办部门办理"></task>
		<event type="node-enter">
			<action config-type="bean"
				class="org.springmodules.workflow.jbpm31.JbpmHandlerProxy">
				<targetBean>NodeEnterEventHandler</targetBean>
				<factoryKey>jbpmConfiguration</factoryKey>
			</action>
		</event>
		<description>Type=task-node;ID=37</description>
		<transition name="结束" to="结束">
			<description>Type=CommonLine;Index=0;ID=39</description>
		</transition>
	</task-node>
	<node name="否决">
		<event type="node-enter">
			<action config-type="bean"
				class="org.springmodules.workflow.jbpm31.JbpmHandlerProxy">
				<targetBean>DenyNodeEnterEventHandler</targetBean>
				<factoryKey>jbpmConfiguration</factoryKey>
			</action>
		</event>
		<description>Type=node;ID=39</description>
		<transition name="结束" to="结束">
			<description>Type=CommonLine;Index=0;ID=43</description>
		</transition>
	</node>
</process-definition>

